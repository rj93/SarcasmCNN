<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<script src="js/jquery-3.2.1.min.js"></script>
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<script src="js/bootstrap.min.js"></script>

		<link href="css/website.css" rel="stylesheet">

		<title>Sarcasm Detector</title>
	</head>

	<body onload="init()">

		<div class="container">
			<div class="input-group">
				<input type="text" class="form-control" placeholder="Sentence" id="sentence-text" aria-describedby="sentence-text-addon">
				<span class="btn btn-primary input-group-addon" id="sentence-text-addon" onclick="predict()">Predict</span>
			</div>
		</div>

		<script>
			var baseUrl = "http://localhost:8080/api/";

			function init(){
				$.ajax({
					type: "GET",
					url: baseUrl + "init",
					success: function(data) {
						console.log("Success");
					}, error: function(jqXHR, textStatus, errorThrown) {
						console.log(errorThrown); 
					}
				});
			}

			function predict(){

				console.log("predict");
				var sentence = $('#sentence-text').val()
				console.log(sentence)

				if (sentence.length > 0){
					$.ajax({
						type: "GET",
						url: baseUrl + "predict/this%20is%20a%20test",
						data: sentence,
						success: function(data) {
							update(data); 
						}, error: function(jqXHR, textStatus, errorThrown) {
							console.log(errorThrown); 
						}
					});
				} else {
					console.log("Sentence length cannot be zero");
				}
			}

			function update(data) {
				
			}
		</script>

	</body>
</html>